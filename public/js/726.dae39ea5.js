(self["webpackChunkbackoffice_artchie_front"]=self["webpackChunkbackoffice_artchie_front"]||[]).push([[726],{38515:(e,s,t)=>{"use strict";t.d(s,{U:()=>u});var a=t(99623);class u extends a.Z{constructor(){super("museum")}async get(e){const{museum:s}=await super.get(e);return s}}},77726:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ae});var a=t(83673);const u=e=>((0,a.dD)("data-v-5d0ebeeb"),e=e(),(0,a.Cn)(),e),l={class:"q-pa-md q-my-md"},o=u((()=>(0,a._)("div",{class:"text-h3"},"Nada aqui",-1))),i=u((()=>(0,a._)("div",{class:"text-subtitle2"}," Adicione museus ao aplicativo utilizando o botão abaixo ",-1)));function n(e,s,t,u,n,m){const d=(0,a.up)("carousel-museum"),r=(0,a.up)("q-card-section"),c=(0,a.up)("q-card"),p=(0,a.up)("q-fab-action"),f=(0,a.up)("q-fab"),g=(0,a.up)("q-page-sticky"),b=(0,a.up)("create-museum-dialog");return(0,a.wg)(),(0,a.iD)("div",l,[e.museums.length?((0,a.wg)(),(0,a.j4)(d,{key:0,museums:e.museums},null,8,["museums"])):((0,a.wg)(),(0,a.j4)(c,{key:1,class:"my-card bg-red text-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[o])),_:1}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[i])),_:1})])),_:1})),(0,a.Wm)(g,{position:"bottom",offset:[18,18],class:"q-mt-lg button-more"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{icon:"add",direction:"right",class:"button-action",glossy:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{class:"sub",icon:"add_circle",onClick:e.openDialog},null,8,["onClick"]),(0,a.Wm)(p,{class:"sub",icon:"filter_list"})])),_:1})])),_:1}),(0,a.Wm)(b,{modelValue:e.openFormDialog,"onUpdate:modelValue":s[0]||(s[0]=s=>e.openFormDialog=s),onSuccessfulInsertion:e.updateDialog},null,8,["modelValue","onSuccessfulInsertion"])])}var m=t(61959);t(90246);const d={class:""};function r(e,s,t,u,l,o){const i=(0,a.up)("card-museum"),n=(0,a.up)("swiper-slide"),m=(0,a.up)("swiper");return(0,a.wg)(),(0,a.j4)(m,{slidesPerView:3,spaceBetween:30,pagination:{clickable:!0},breakpoints:l.breakpoints,class:"mySwiper swiper-container"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.museums,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,class:"swiper-slide"},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a.Wm)(i,{"museum-name":e.name,"museum-email":e.email,"museum-info":e.info,museumDescription:e.description,"museum-id":e.id},null,8,["museum-name","museum-email","museum-info","museumDescription","museum-id"])])])),_:2},1024)))),128))])),_:1},8,["breakpoints"])}var c=t(99319),p=t(91788),f=t(62323);const g={class:"absolute-bottom text-h6"},b={class:"row no-wrap items-center"},w={class:"col text-h6 ellipsis"},h={class:"text-subtitle2"},_={class:"ellipsis-3-lines text-card"};function y(e,s,t,u,l,o){const i=(0,a.up)("q-img"),n=(0,a.up)("q-btn"),m=(0,a.up)("q-card-section"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"my-card relative"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{src:e.museumImage,class:"imagem-height"},{default:(0,a.w5)((()=>[(0,a._)("div",g,(0,f.zw)(e.museumName),1)])),_:1},8,["src"]),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{fab:"",icon:"o_arrow_forward",class:"absolute btn-more-info",style:{},onClick:e.sendToInfo},null,8,["onClick"]),(0,a._)("div",b,[(0,a._)("div",w,(0,f.zw)(e.museumInfo),1)]),(0,a._)("div",h,(0,f.zw)(e.museumEmail),1)])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a._)("p",_,(0,f.zw)(e.museumDescription),1)])),_:1})])),_:1})}const v=(0,a.aZ)({name:"CardMuseum",setup(){return{image:"~/assets/museums/louvre.jpg",lorem:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}},props:{museumName:{type:String},museumEmail:{type:String},museumInfo:{type:String,default:""},museumDescription:{type:String,default:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},museumImage:{type:String,default:t(18575)},museumId:{type:Number}},methods:{sendToInfo(){this.$router.push({name:"museumInfo",params:{id:this.museumId}})}}});var Z=t(74260),V=t(10151),S=t(24027),q=t(25589),W=t(48240),k=t(7518),D=t.n(k);const I=(0,Z.Z)(v,[["render",y],["__scopeId","data-v-260280aa"]]),C=I;D()(v,"components",{QCard:V.Z,QImg:S.Z,QCardSection:q.Z,QBtn:W.Z}),p.ZP.use([p.tl]);const z={props:{museums:{type:Array,default:()=>[]}},components:{Swiper:c.t,SwiperSlide:c.o,CardMuseum:C},data(){return{lorem:"TESTE TESTE TESTE",breakpoints:{320:{slidesPerView:1,spaceBetween:20},640:{slidesPerView:3,spaceBetween:30}}}},methods:{}},Q=(0,Z.Z)(z,[["render",r],["__scopeId","data-v-29abc4b5"]]),x=Q,M={class:"q-pa-md"};function E(e,s,t,u,l,o){const i=(0,a.up)("museum-form"),n=(0,a.up)("q-btn"),m=(0,a.up)("q-card-actions"),d=(0,a.up)("q-card"),r=(0,a.up)("q-dialog"),c=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(r,{ref:"create-museum-dialog","onUpdate:modelValue":o.updateModelValue,value:t.modelValue},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"create-museum-card"},{default:(0,a.w5)((()=>[(0,a._)("div",M,[(0,a.Wm)(i,{onSuccessfulSubmit:o.closeDialogOnSuccess},null,8,["onSuccessfulSubmit"])]),(0,a.Wm)(m,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(n,{flat:"",size:"md",color:"primary",label:"close",class:"left"},null,512),[[c]]),(0,a.wy)((0,a.Wm)(n,{size:"md",color:"negative",round:"",icon:"delete"},null,512),[[c]]),(0,a.wy)((0,a.Wm)(n,{size:"md",color:"accent",round:"",icon:"update"},null,512),[[c]])])),_:1})])),_:1})])),_:1},8,["onUpdate:modelValue","value"])}function j(e,s,t,u,l,o){const i=(0,a.up)("q-input"),n=(0,a.up)("q-btn"),m=(0,a.up)("q-form");return(0,a.wg)(),(0,a.j4)(m,{onSubmit:u.submit,onReset:u.onReset,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{filled:"",modelValue:u.data.name,"onUpdate:modelValue":s[0]||(s[0]=e=>u.data.name=e),label:"Museu",hint:"Nome do Museu","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,a.Wm)(i,{filled:"",modelValue:u.data.email,"onUpdate:modelValue":s[1]||(s[1]=e=>u.data.email=e),label:"Email",hint:"Email do Museu","lazy-rules":"",rules:[e=>!!e||"Email is missing",o.isValidEmail()]},null,8,["modelValue","rules"]),(0,a.Wm)(i,{filled:"",modelValue:u.data.info,"onUpdate:modelValue":s[2]||(s[2]=e=>u.data.info=e),label:"Localização",hint:"Localização do Museu","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,a.Wm)(i,{filled:"",modelValue:u.data.description,"onUpdate:modelValue":s[3]||(s[3]=e=>u.data.description=e),label:"Descrição",hint:"Descrição do Museu","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,a._)("div",null,[(0,a.Wm)(n,{label:"Submit",type:"submit",color:"primary"}),(0,a.Wm)(n,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"])}var U=t(48825),A=t(93617),F=(t(88603),t(38515));const P={setup(e,{emit:s}){const t=(0,U.Z)(),a=(0,m.qj)({name:null,email:null,info:null,description:null});return{data:a,async submit(){const{name:e,email:u,info:l,description:o}=a,i=new F.U;try{await i.post({name:e,email:u,info:l,description:o}),t.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Submitted"}),s("successful-submit")}catch(n){t.notify({color:"red",textColor:"white",icon:"cancel",message:n.data})}},onReset(){a.name=null,a.email=null,a.info=null,a.description=null}}},emits:["update:data","successful-submit"],computed:{...(0,A.Se)({token:"auth/userToken"})},methods:{isValidEmail(){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return e.test(this.data.email)||"Invalid email"}}};var T=t(68689),B=t(64689);const $=(0,Z.Z)(P,[["render",j]]),N=$;D()(P,"components",{QForm:T.Z,QInput:B.Z,QBtn:W.Z});const R={components:{MuseumForm:N},setup(){return{museum:(0,m.qj)({})}},props:{modelValue:{type:Boolean,default:!1}},computed:{textActive(){return this.active?"Item is active":"Item is inactive"}},methods:{updateModelValue(e){this.$emit("update:modelValue",e)},closeDialogOnSuccess(){this.$emit("successful-insertion",!0)}},emits:["successful-insertion","update:modelValue"],watch:{modelValue(e){e?this.$refs["create-museum-dialog"].show():this.$refs["create-museum-dialog"].hide()}}};var L=t(46778),H=t(99367),O=t(60677);const K=(0,Z.Z)(R,[["render",E],["__scopeId","data-v-deb40d1e"]]),Y=K;D()(R,"components",{QDialog:L.Z,QCard:V.Z,QCardActions:H.Z,QBtn:W.Z}),D()(R,"directives",{ClosePopup:O.Z});var G=t(40019);const J=(0,a.aZ)({components:{CarouselMuseum:x,CreateMuseumDialog:Y},name:"MuseumIndex",setup(){const e=(0,m.iH)([]),s=async()=>{const s=new F.U;s.fetch().then((s=>e.value=s.data.items)).catch(G.log)};(0,a.wF)(s);const t=(0,m.iH)(!1);return{museums:e,getMuseums:s,openFormDialog:t,updateDialog(){t.value=!1,s()}}},methods:{openDialog(){this.openFormDialog=!0}}});var X=t(21007),ee=t(39200),se=t(39975);const te=(0,Z.Z)(J,[["render",n],["__scopeId","data-v-5d0ebeeb"]]),ae=te;D()(J,"components",{QCard:V.Z,QCardSection:q.Z,QPageSticky:X.Z,QFab:ee.Z,QFabAction:se.Z})},18575:(e,s,t)=>{e.exports=t.p+"img/louvre.ddb823bf.jpg"}}]);